{% extends 'base.html' %} 
{% load static %} 
{% block meta %}
<title>Connectify - Posts in {{community.nama_community}}</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
{% endblock meta %} 

{% block content %}
<div class="jumbotron mt-3 p-5 text-white text-center bg-gradient-to-r from-slate-500 to-yellow-100">
  <div class="container">
      <div style="font-size: 28px; font-weight: bold;">{{community.nama_community}} Community</div>
      <div style="margin-top: 8px;">{{community.detail_community}}</div>
  </div>
</div>

  <div class="container">
    <div class="row">
      <div class="col-lg-9">
        <div class="container">
            <div class="form-discuss mt-5 py-3 px-3">
              <form method="POST" id="add-post">
                <h2 style="text-align:center">Make a Post!</h2>
                {% csrf_token %}
                <div class="form-group">
                  <textarea rows="3" cols="70" name="body" id="body" class="form-control" required></textarea>
                </div>
        
                <div id="formbutton-position">
                  <button class="mt-2 px-4 py-2 bg-blue-500 hover:bg-blue-700 rounded-lg text-white" 
                  type="submit" 
                  style="margin-top: 10px;"> add post </button>
                </div>
              </form> 
            </div>

            {% for post in posts %}
              <div class="container mt-3">
                <div class="row">
                  <a href="./{{post.pk}}/" class="card post-card text-decoration-none hover:shadow-lg">
                    <div class="card-body m-3">
                      <h5 class="card-title">{{post.author}}</h5>
                      <p class="card-text">{{post.isi}}</p>
                      
                      <div class="m-2 text-end">
                        <i class="bi bi-hand-thumbs-up p-2">{{post.jumlah_like}}</i>
                        <i class="bi bi-hand-thumbs-down p-2">{{post.jumlah_dislike}}</i>
                        <i class="bi bi-chat-right p-2">{{post.jumlah_komen}}</i>
                      </div>
                    </div>
                  </a>
                </div>
              </div>
            {% endfor %}
          </div>
      </div>

      <div class="col-lg-3 mt-5">
        <div class="card p-3">
          Fixed content
        </div>
      </div>

    </div>
  </div>
</div>

{% endblock content %}
